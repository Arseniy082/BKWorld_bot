// ===== BKW Telegram Bot =====
// Ð’ÐµÑ€ÑÐ¸Ñ: 3.0 (Ñ /menu, /compare Ð¸ /predicookie)
// ÐÐ²Ñ‚Ð¾Ñ€: Nef0r / BKWORLD

import 'dotenv/config';
import axios from 'axios';
import * as cheerio from 'cheerio';
import { Telegraf } from 'telegraf';
import fs from 'fs';
import { fileURLToPath } from 'url';
import { dirname, join } from 'path';

const BOT_TOKEN = process.env.TELEGRAM_BOT_TOKEN;
const CLAN_URL = process.env.CLAN_URL || 'https://teerank.io/clan/BKW';
const bot = new Telegraf(BOT_TOKEN);

// ===== Ð”Ð»Ñ ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ð¾Ð¹ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Ð¿ÑƒÑ‚ÐµÐ¹ =====
const __filename = fileURLToPath(import.meta.url);
const __dirname = dirname(__filename);

// ===== Ð¤ÑƒÐ½ÐºÑ†Ð¸Ñ: Ð¸Ð·Ð²Ð»ÐµÑ‡ÐµÐ½Ð¸Ðµ Ð½Ð¸ÐºÐ¾Ð² Ñ ÑÐ°Ð¹Ñ‚Ð° =====
async function fetchNicknames(url) {
  try {
    const { data } = await axios.get(url, {
      headers: { 'User-Agent': 'Mozilla/5.0 (compatible; BKWBot/1.0)' },
    });

    const $ = cheerio.load(data);
    const nicknames = [];

    $('a[href*="/player/"]').each((_, el) => {
      const nick = $(el).text().trim();
      if (
        nick &&
        nick.length > 1 &&
        !nick.toLowerCase().includes('player') &&
        !nick.toLowerCase().includes('list') &&
        !/[^a-zA-ZÐ°-ÑÐ-Ð¯0-9_\\-]/.test(nick)
      ) {
        nicknames.push(nick);
      }
    });

    const unique = Array.from(new Set(nicknames));
    return unique.filter((n) => !/player/i.test(n) && !/list/i.test(n));
  } catch (err) {
    console.error('ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐµ:', err.message);
    return [];
  }
}

// ===== ÐšÐ¾Ð¼Ð°Ð½Ð´Ñ‹ Telegram =====

// /start Ð¸ /menu
const startMessage = `ðŸ‘‹ ÐŸÑ€Ð¸Ð²ÐµÑ‚!  
Ð¯ Ð±Ð¾Ñ‚ ÐºÐ»Ð°Ð½Ð° **BKW** Ð¿Ð¾ Ð¸Ð³Ñ€Ðµ **DDNet**.

ðŸ“œ Ð”Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹:
/tgk â€” ÐºÐ°Ð½Ð°Ð» ÐºÐ»Ð°Ð½Ð°  
/clantag â€” Ð¿Ñ€Ð¸Ð¿Ð¸ÑÐºÐ° ÐºÐ»Ð°Ð½Ð°  
/statistics â€” ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° ÐºÐ»Ð°Ð½Ð°  
/serverlist â€” ÑÐ¿Ð¸ÑÐ¾Ðº ÑÐµÑ€Ð²ÐµÑ€Ð¾Ð²  
/stickers â€” ÑÑ‚Ð¸ÐºÐµÑ€Ð¿Ð°Ðº  
/online â€” ÐºÑ‚Ð¾ ÑÐµÐ¹Ñ‡Ð°Ñ Ð² Ð¾Ð½Ð»Ð°Ð¹Ð½Ðµ  
/skinpack â€” ÑÐºÐ°Ñ‡Ð°Ñ‚ÑŒ ÑÐºÐ¸Ð½Ð¿Ð°Ðº  
/compare â€” Ð¸Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ñ Ð¿Ð¾ ÑÑ€Ð°Ð²Ð½ÐµÐ½Ð¸ÑŽ Ð¸Ð³Ñ€Ð¾ÐºÐ¾Ð²  
/predicookie â€” Ð¿ÐµÑ‡ÐµÐ½ÑŒÐµ Ñ Ð¿Ñ€ÐµÐ´ÑÐºÐ°Ð·Ð°Ð½Ð¸ÐµÐ¼ ðŸª  
/luck â€” Ð°Ð½Ð°Ð»Ð¾Ð³ /predicookie`;

bot.start((ctx) => ctx.reply(startMessage));
bot.command('menu', (ctx) => ctx.reply(startMessage));

// /tgk
bot.command('tgk', (ctx) => ctx.reply('@BKWORLDCHANNEL'));

// /clantag
bot.command('clantag', (ctx) => ctx.reply('ÐŸÑ€Ð¸Ð¿Ð¸ÑÐºÐ° Ð½Ð°ÑˆÐµÐ³Ð¾ ÐºÐ»Ð°Ð½Ð° â€” BKW'));

// /statistics
bot.command('statistics', (ctx) =>
  ctx.reply('ðŸ“Š Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° ÐºÐ»Ð°Ð½Ð°: https://teerank.io/clan/BKW')
);

// /serverlist
bot.command('serverlist', (ctx) =>
  ctx.reply('ðŸ–¥ Ð¡Ð¿Ð¸ÑÐ¾Ðº ÑÐµÑ€Ð²ÐµÑ€Ð¾Ð²: https://status.tw/server/list')
);

// /stickers
bot.command('stickers', (ctx) =>
  ctx.reply('ðŸŽ¨ Ð¡Ñ‚Ð¸ÐºÐµÑ€Ñ‹: https://t.me/addstickers/BKWORLDSTIK')
);

// /online (Ð¸Ð»Ð¸ /check)
bot.command(['online', 'check'], async (ctx) => {
  await ctx.reply('â³ ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÑŽ ÑÐ°Ð¹Ñ‚...');
  const nicknames = await fetchNicknames(CLAN_URL);

  if (nicknames.length === 0) {
    await ctx.reply('âš ï¸ ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ ÑÐ¿Ð¸ÑÐ¾Ðº Ð¸Ð³Ñ€Ð¾ÐºÐ¾Ð² (Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾, ÑÐ°Ð¹Ñ‚ Ð½ÐµÐ´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½).');
  } else {
    const time = new Date().toLocaleString('ru-RU', { timeZone: 'Europe/Moscow' });
    await ctx.reply(
      `ðŸŽ® ÐÐ°Ð¹Ð´ÐµÐ½Ð¾ ${nicknames.length} Ð½Ð¸Ðº(Ð¾Ð²):\n\n${nicknames.join('\n')}\n\nðŸ•’ ÐŸÑ€Ð¾Ð²ÐµÑ€ÐµÐ½Ð¾: ${time}`
    );
  }
});

// /skinpack â€” Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ° Ð¸Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ð¸ Ð¸ Ð°Ñ€Ñ…Ð¸Ð²Ð°
bot.command('skinpack', async (ctx) => {
  try {
    const imagePath = join(__dirname, 'photo_2025-10-30_11-37-29.jpg');
    const zipPath = join(__dirname, 'Skin pack by BKWORLD.zip');

    if (!fs.existsSync(imagePath) || !fs.existsSync(zipPath)) {
      return ctx.reply('âš ï¸ Ð¤Ð°Ð¹Ð»Ñ‹ ÑÐºÐ¸Ð½Ð¿Ð°ÐºÐ° Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½Ñ‹ Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€Ðµ.');
    }

    // 1ï¸âƒ£ Ð˜Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ñ
    await ctx.reply(
      `ðŸ§­ **ÐšÐ°Ðº ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ ÑÐºÐ¸Ð½Ð¿Ð°Ðº BKW:**\n\n` +
      `**Windows:**\nðŸ“‚ \`C:\\Users\\Ð˜Ð¼Ñ_Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ\\AppData\\Roaming\\DDNet\\skins\`\n\n` +
      `**Android:**\nðŸ“‚ \`Ð¢ÐµÐ»ÐµÑ„Ð¾Ð½/Android/data/org.ddnet.client/files/user/skins\`\n\n` +
      `ÐŸÐ¾ÑÐ»Ðµ Ñ€Ð°ÑÐ¿Ð°ÐºÐ¾Ð²ÐºÐ¸ Ð¿ÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÑ‚Ð¸ Ð¸Ð³Ñ€Ñƒ â€” ÑÐºÐ¸Ð½Ñ‹ Ð¿Ð¾ÑÐ²ÑÑ‚ÑÑ Ð² ÑÐ¿Ð¸ÑÐºÐµ.`
    );

    // 2ï¸âƒ£ ZIP-Ñ„Ð°Ð¹Ð»
    await ctx.replyWithDocument({ source: zipPath, filename: 'Skin pack by BKWORLD.zip' });
  } catch (err) {
    console.error('ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐµ ÑÐºÐ¸Ð½Ð¿Ð°ÐºÐ°:', err);
    ctx.reply('âŒ ÐŸÑ€Ð¾Ð¸Ð·Ð¾ÑˆÐ»Ð° Ð¾ÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐµ ÑÐºÐ¸Ð½Ð¿Ð°ÐºÐ°.');
  }
});

// /compare â€” Ð¸Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ñ Ð¿Ð¾ ÑÑ€Ð°Ð²Ð½ÐµÐ½Ð¸ÑŽ Ð¸Ð³Ñ€Ð¾ÐºÐ¾Ð²
bot.command('compare', (ctx) =>
  ctx.reply(
    `âš–ï¸ **ÐšÐ°Ðº ÑÑ€Ð°Ð²Ð½Ð¸Ñ‚ÑŒ Ð¸Ð³Ñ€Ð¾ÐºÐ¾Ð² Ð² DDNet:**\n\n` +
    `1ï¸âƒ£ ÐŸÐµÑ€ÐµÐ¹Ð´Ð¸ Ð½Ð° ÑÐ°Ð¹Ñ‚: https://ddnet.org/players/test/\n` +
    `2ï¸âƒ£ Ð’ Ð¿Ð¾Ð»Ðµ **"Player search"** Ð²Ð²ÐµÐ´Ð¸ ÑÐ²Ð¾Ð¹ Ð½Ð¸Ðº Ð¸ Ð½Ð°Ð¶Ð¼Ð¸ **Enter**.\n` +
    `3ï¸âƒ£ Ð’ Ð¿Ð¾Ð»Ðµ **"Compare"** Ð²Ð²ÐµÐ´Ð¸ Ð½Ð¸Ðº Ð´Ñ€ÑƒÐ³Ð¾Ð³Ð¾ Ð¸Ð³Ñ€Ð¾ÐºÐ°.\n` +
    `4ï¸âƒ£ ÐÐ°Ð¶Ð¼Ð¸ **Enter**, Ñ‡Ñ‚Ð¾Ð±Ñ‹ ÑÑ€Ð°Ð²Ð½Ð¸Ñ‚ÑŒ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹.\n\n` +
    `ðŸ§© Ð’Ð¾Ñ‚ Ñ‚Ð°Ðº Ð¼Ð¾Ð¶Ð½Ð¾ ÑÑ€Ð°Ð²Ð½Ð¸Ð²Ð°Ñ‚ÑŒ Ð¸Ð³Ñ€Ð¾ÐºÐ¾Ð² Ð¿Ð¾ ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐµ Ð¸ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸.`
  )
);

// /predicookie Ð¸ /luck â€” Ð¿Ñ€ÐµÐ´ÑÐºÐ°Ð·Ð°Ð½Ð¸Ñ
bot.command(['predicookie', 'luck'], (ctx) => {
  const predictions = [
    "ðŸª Ð¡ÐµÐ³Ð¾Ð´Ð½Ñ Ñ‚Ñ‹ Ð¿Ð¾ÑÑ‚Ð°Ð²Ð¸ÑˆÑŒ Ð½Ð¾Ð²Ñ‹Ð¹ Ñ€ÐµÐºÐ¾Ñ€Ð´... ÐµÑÐ»Ð¸ Ð½Ðµ ÑƒÐ¿Ð°Ð´Ñ‘ÑˆÑŒ Ð½Ð° ÑÑ‚Ð°Ñ€Ñ‚Ðµ.",
    "ðŸª Dummy ÑÐµÐ³Ð¾Ð´Ð½Ñ ÑƒÐ¼Ð½ÐµÐµ Ñ‚ÐµÐ±Ñ â€” Ð±ÑƒÐ´ÑŒ Ð¾ÑÑ‚Ð¾Ñ€Ð¾Ð¶ÐµÐ½.",
    "ðŸª ÐÐ° ÑÐ»ÐµÐ´ÑƒÑŽÑ‰ÐµÐ¹ ÐºÐ°Ñ€Ñ‚Ðµ Ñ‚Ñ‹ Ð¿Ñ€Ð¾Ð¶Ð¸Ð²Ñ‘ÑˆÑŒ Ð´Ð¾Ð»ÑŒÑˆÐµ 10 ÑÐµÐºÑƒÐ½Ð´. Ð’Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾.",
    "ðŸª ÐšÑ‚Ð¾-Ñ‚Ð¾ Ð¸Ð· Ñ‚Ð²Ð¾ÐµÐ¹ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹ Ð·Ð°Ð±Ñ‹Ð» Ð²ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ brain.exe.",
    "ðŸª Ð¡Ð¼Ð¾Ñ‚Ñ€Ð¸ Ð¿Ð¾Ð´ Ð½Ð¾Ð³Ð¸. ÐžÑÐ¾Ð±ÐµÐ½Ð½Ð¾ Ð½Ð° ÐºÐ°Ñ€Ñ‚Ðµ Ñ Ñ…ÑƒÐºÐ°Ð¼Ð¸.",
    "ðŸª Ð¡ÐµÐ³Ð¾Ð´Ð½Ñ Ñ‚Ð²Ð¾Ð¹ Ð¿Ñ€Ñ‹Ð¶Ð¾Ðº Ð±ÑƒÐ´ÐµÑ‚ Ñ‚Ð¾Ñ‡Ð½Ñ‹Ð¼, ÐºÐ°Ðº Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°.",
    "ðŸª Ð¢ÐµÐ±Ñ Ð¶Ð´Ñ‘Ñ‚ Ð²ÐµÐ»Ð¸ÐºÐ°Ñ ÑÐ»Ð°Ð²Ð°... Ð¸ Ð¾Ð´Ð¸Ð½ ÑÐ»ÑƒÑ‡Ð°Ð¹Ð½Ñ‹Ð¹ Ñ„ÐµÐ¹Ð».",
    "ðŸª Ð•ÑÐ»Ð¸ ÐºÐ°Ñ€Ñ‚Ð° Ð½Ð°Ð·Ñ‹Ð²Ð°ÐµÑ‚ÑÑ â€˜Brutalâ€™, Ð»ÑƒÑ‡ÑˆÐµ Ð½Ðµ Ð³ÐµÑ€Ð¾Ð¹ÑÑ‚Ð²ÑƒÐ¹.",
    "ðŸª Ð¢Ñ‹ Ð½Ð°Ð¹Ð´Ñ‘ÑˆÑŒ Ð½Ð¾Ð²Ñ‹Ð¹ ÑÐ¿Ð¾ÑÐ¾Ð± ÑƒÐ¿Ð°ÑÑ‚ÑŒ Ñ Ñ€ÐµÑÐ¿Ð°ÑƒÐ½Ð°.",
    "ðŸª Ð¡ÐµÐ³Ð¾Ð´Ð½Ñ Dummy Ð¿Ð¾Ð²ÐµÐ´Ñ‘Ñ‚ Ñ‚ÐµÐ±Ñ Ðº Ð¿Ð¾Ð±ÐµÐ´Ðµ. Ð˜Ð»Ð¸ Ð² Ð¿Ñ€Ð¾Ð¿Ð°ÑÑ‚ÑŒ.",
    "ðŸª ÐÐµ Ð´Ð¾Ð²ÐµÑ€ÑÐ¹ Ð½Ð¸ÐºÐ¾Ð¼Ñƒ, ÐºÑ‚Ð¾ Ð³Ð¾Ð²Ð¾Ñ€Ð¸Ñ‚: â€˜Ð­Ñ‚Ð¾ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ ÐºÐ°Ñ€Ñ‚Ð°â€™.",
    "ðŸª Ð•ÑÐ»Ð¸ Ñƒ Ñ‚ÐµÐ±Ñ Ð»Ð°Ð³Ð¸ â€” Ð·Ð½Ð°Ñ‡Ð¸Ñ‚, ÑÑƒÐ´ÑŒÐ±Ð° Ñ…Ð¾Ñ‡ÐµÑ‚, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ñ‚Ñ‹ Ð¾Ñ‚Ð´Ð¾Ñ…Ð½ÑƒÐ».",
    "ðŸª ÐšÐ°Ð¶Ð´Ñ‹Ð¹ Ð¿Ñ€Ñ‹Ð¶Ð¾Ðº Ð¿Ñ€Ð¸Ð±Ð»Ð¸Ð¶Ð°ÐµÑ‚ Ñ‚ÐµÐ±Ñ Ðº Ð±ÐµÑÑÐ¼ÐµÑ€Ñ‚Ð½Ð¾Ð¼Ñƒ WR.",
    "ðŸª Ð¡ÐµÐ³Ð¾Ð´Ð½Ñ Ñ‚Ñ‹ Ð¿Ñ€Ð¾Ð¹Ð´Ñ‘ÑˆÑŒ ÐºÐ°Ñ€Ñ‚Ñƒ Ñ Ð¿ÐµÑ€Ð²Ð¾Ð¹ Ð¿Ð¾Ð¿Ñ‹Ñ‚ÐºÐ¸... Ð²Ð¾ ÑÐ½Ðµ.",
    "ðŸª ÐÐµ Ð²ÑÐµ Ð³ÐµÑ€Ð¾Ð¸ Ð½Ð¾ÑÑÑ‚ Ð¿Ð»Ð°Ñ‰Ð¸. ÐÐµÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ð¶Ð¼ÑƒÑ‚ R.",
    "ðŸª Ð•ÑÐ»Ð¸ Ñ‚ÐµÐ±Ñ Ñ‚ÑÐ½ÑƒÑ‚ Ð½Ðµ Ñ‚ÑƒÐ´Ð° â€” Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾, ÑÑ‚Ð¾ Ñ‚Ð²Ð¾Ð¹ Dummy.",
    "ðŸª Ð¡ÐµÐ³Ð¾Ð´Ð½ÑÑˆÐ½Ð¸Ð¹ Ð´ÐµÐ½ÑŒ Ð¿Ñ€Ð¸Ð½ÐµÑÑ‘Ñ‚ Ñ‚ÐµÐ±Ðµ +1 Ðº ÑÐºÐ¸Ð»Ð»Ñƒ Ð¸ -2 Ðº Ñ‚ÐµÑ€Ð¿ÐµÐ½Ð¸ÑŽ.",
    "ðŸª ÐšÑ‚Ð¾ Ð¿Ð°Ð´Ð°Ð» â€” Ñ‚Ð¾Ñ‚ Ð¿Ð¾Ð´Ð½Ð¸Ð¼ÐµÑ‚ÑÑ. ÐšÑ‚Ð¾ Ñ„ÐµÐ¹Ð»Ð¸Ð» â€” Ñ‚Ð¾Ñ‚ Ð¿Ð¾ÑÑ‚Ð°Ð²Ð¸Ñ‚ Ñ€ÐµÐºÐ¾Ñ€Ð´.",
    "ðŸª Ð¡ÐµÐ³Ð¾Ð´Ð½Ñ Ñ‚Ñ‹ Ð¿Ð¾Ð¹Ð¼Ñ‘ÑˆÑŒ, Ð·Ð°Ñ‡ÐµÐ¼ Ð½Ð° ÐºÐ°Ñ€Ñ‚Ðµ Ñ‡ÐµÐºÐ¿Ð¾Ð¸Ð½Ñ‚Ñ‹.",
    "ðŸª Ð£Ð´Ð°Ñ‡Ð° Ð½Ð° Ñ‚Ð²Ð¾ÐµÐ¹ ÑÑ‚Ð¾Ñ€Ð¾Ð½Ðµ. ÐÐ¾ DDNet â€” Ð½ÐµÑ‚.",
    "ðŸª Ð¥ÑƒÐºÐ°Ð¹ Ñ ÑƒÐ¼Ð¾Ð¼. ÐžÑÐ¾Ð±ÐµÐ½Ð½Ð¾ Dummy.",
    "ðŸª Ð¡ÐµÐ³Ð¾Ð´Ð½Ñ Ñ‚Ð²Ð¾Ñ ÐºÐ¾Ð¼Ð°Ð½Ð´Ð° Ð²ÑÐ¿Ð¾Ð¼Ð½Ð¸Ñ‚, Ñ‡Ñ‚Ð¾ ÐºÐ½Ð¾Ð¿ÐºÐ° 'jump' ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚.",
    "ðŸª Ð•ÑÐ»Ð¸ Ð½Ðµ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ð»Ð¾ÑÑŒ Ñ Ð¿ÐµÑ€Ð²Ð¾Ð¹ Ð¿Ð¾Ð¿Ñ‹Ñ‚ÐºÐ¸ â€” Ð¿Ð¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹ 154-Ð¹ Ñ€Ð°Ð·.",
    "ðŸª ÐšÐ¾Ð³Ð´Ð° ÐºÐ°Ð¶ÐµÑ‚ÑÑ, Ñ‡Ñ‚Ð¾ Ð²ÑÑ‘ Ð¿Ð¾Ñ‚ÐµÑ€ÑÐ½Ð¾ â€” Ð¿Ð¾ÑÐ¼Ð¾Ñ‚Ñ€Ð¸ Ð¿Ð¾Ð´ ÐºÐ°Ñ€Ñ‚Ñƒ.",
    "ðŸª Ð¢Ñ‹ Ð¿Ð¾ÑÑ‚Ð°Ð²Ð¸ÑˆÑŒ Ñ€ÐµÐºÐ¾Ñ€Ð´, ÐµÑÐ»Ð¸ Ð½Ðµ Ð½Ð°Ñ‡Ð½Ñ‘ÑˆÑŒ Ð¾Ð±ÑŠÑÑÐ½ÑÑ‚ÑŒ, ÐºÐ°Ðº Ð¿Ñ€Ð¾Ð¹Ñ‚Ð¸.",
    "ðŸª Dummy Ð¶Ð´Ñ‘Ñ‚ Ñ‚ÐµÐ±Ñ. ÐžÐ½ Ð²ÐµÑ€Ð¸Ñ‚, Ñ‡Ñ‚Ð¾ Ñ‚Ñ‹ Ð½Ðµ ÑÐ½Ð¾Ð²Ð° ÐµÐ³Ð¾ ÑƒÑ€Ð¾Ð½Ð¸ÑˆÑŒ.",
    "ðŸª Ð¡ÐµÐ³Ð¾Ð´Ð½Ñ Ñ‚Ð²Ð¾Ð¹ Ñ…ÑƒÐ´ÑˆÐ¸Ð¹ Ð¿Ñ€Ñ‹Ð¶Ð¾Ðº ÑÑ‚Ð°Ð½ÐµÑ‚ Ñ‚Ð²Ð¾Ð¸Ð¼ Ð»ÑƒÑ‡ÑˆÐ¸Ð¼ Ð¿Ð°Ð´ÐµÐ½Ð¸ÐµÐ¼.",
    "ðŸª Ð˜Ð½Ð¾Ð³Ð´Ð°, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð²Ñ‹Ð¸Ð³Ñ€Ð°Ñ‚ÑŒ, Ð½Ð°Ð´Ð¾ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ð½Ðµ ÑƒÐ¿Ð°ÑÑ‚ÑŒ.",
    "ðŸª Ð”Ð°Ð¶Ðµ ÑÐµÑ€Ð²ÐµÑ€ DDNet Ð·Ð½Ð°ÐµÑ‚, Ñ‡Ñ‚Ð¾ Ñ‚Ñ‹ Ð·Ð°ÑÐ»ÑƒÐ¶Ð¸Ð» Ñ€ÐµÐºÐ¾Ñ€Ð´.",
    "ðŸª ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒ, Ð½Ðµ Ð·Ð°Ð±Ñ‹Ð» Ð»Ð¸ Ñ‚Ñ‹ shift. ÐžÐ½ Ñ‚ÐµÐ±Ðµ ÑÐµÐ³Ð¾Ð´Ð½Ñ Ð¿Ð¾Ð½Ð°Ð´Ð¾Ð±Ð¸Ñ‚ÑÑ.",
    "ðŸª ÐÐ°ÑÑ‚Ð¾ÑÑ‰Ð¸Ðµ Ñ‚Ð¸Ð¼Ð¿Ð»ÐµÐµÑ€Ñ‹ Ð½Ðµ Ð±Ñ€Ð¾ÑÐ°ÑŽÑ‚ Dummy. Ð”Ð°Ð¶Ðµ ÐµÑÐ»Ð¸ Ñ‚Ð¾Ñ‚ Ð»Ð°Ð³Ð°ÐµÑ‚.",
    "ðŸª ÐžÐ´Ð¸Ð½ Ð´ÐµÐ½ÑŒ Ð±ÐµÐ· DDNet â€” Ð¼Ð¸Ð½ÑƒÑ Ð¾Ð´Ð¸Ð½ ÑˆÐ°Ð½Ñ Ð½Ð° Ñ€ÐµÐºÐ¾Ñ€Ð´.",
    "ðŸª Ð¡ÐµÐ³Ð¾Ð´Ð½Ñ Ñ‚Ñ‹ ÑƒÐ·Ð½Ð°ÐµÑˆÑŒ, Ñ‡Ñ‚Ð¾ Ñ‡ÐµÐºÐ¿Ð¾Ð¸Ð½Ñ‚ Ð±Ñ‹Ð» Ð½Ðµ Ñ‚Ð°Ð¼, Ð³Ð´Ðµ Ñ‚Ñ‹ Ð´ÑƒÐ¼Ð°Ð».",
    "ðŸª Ð¢Ð²Ð¾Ñ Ð¼Ñ‹ÑˆÐºÐ° Ð·Ð½Ð°ÐµÑ‚ Ð²ÑÐµ Ñ‚Ð²Ð¾Ð¸ Ñ„ÐµÐ¹Ð»Ñ‹. Ð˜ Ð²ÑÑ‘ ÐµÑ‰Ñ‘ Ñ Ñ‚Ð¾Ð±Ð¾Ð¹.",
    "ðŸª Ð˜Ð½Ð¾Ð³Ð´Ð° Ð¿Ð¾Ð±ÐµÐ´Ð° â€” ÑÑ‚Ð¾ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ð½Ðµ rage quit.",
    "ðŸª Ð”Ð°Ð¶Ðµ ÐµÑÐ»Ð¸ Ð²ÑÑ‘ Ð¿Ð»Ð¾Ñ…Ð¾ â€” Ñ…Ð¾Ñ‚ÑŒ Dummy Ð½Ð° Ð¼ÐµÑÑ‚Ðµ.",
    "ðŸª Ð¡ÐµÐ³Ð¾Ð´Ð½Ñ Ñ‚Ñ‹ Ð¿Ð¾ÑÑ‚Ð°Ð²Ð¸ÑˆÑŒ Ñ€ÐµÐºÐ¾Ñ€Ð´â€¦ ÐµÑÐ»Ð¸ Ð½Ðµ Ð¾Ñ‚ÐºÑ€Ð¾ÐµÑˆÑŒ Discord.",
    "ðŸª ÐÐ°ÑÑ‚Ð¾ÑÑ‰Ð°Ñ Ð±Ð¾Ð»ÑŒ â€” ÑƒÐ¿Ð°ÑÑ‚ÑŒ Ð·Ð° Ð¼Ð¸Ð»Ð»Ð¸Ð¼ÐµÑ‚Ñ€ Ð´Ð¾ Ñ„Ð¸Ð½Ð¸ÑˆÐ°.",
    "ðŸª Ð£Ð´Ð°Ñ‡Ð° Ð»ÑŽÐ±Ð¸Ñ‚ Ñ‚ÐµÑ…, ÐºÑ‚Ð¾ Ð½Ðµ ÑÐ¿ÐµÑˆÐ¸Ñ‚. Ð˜Ð»Ð¸ Ñ…Ð¾Ñ‚Ñ Ð±Ñ‹ Ð½Ðµ Ð¿Ð°Ð´Ð°ÐµÑ‚.",
    "ðŸª Ð¡ÐµÐ³Ð¾Ð´Ð½Ñ Ñ‚Ñ‹ ÑƒÐ·Ð½Ð°ÐµÑˆÑŒ, Ñ‡Ñ‚Ð¾ ÐºÐ½Ð¾Ð¿ÐºÐ° R â€” Ð½Ðµ Ð²ÑÐµÐ³Ð´Ð° Ð²Ñ‹Ñ…Ð¾Ð´."
  ];

  const randomPrediction = predictions[Math.floor(Math.random() * predictions.length)];
  ctx.reply(randomPrediction);
});

// ===== Ð—Ð°Ð¿ÑƒÑÐº Ð±Ð¾Ñ‚Ð° =====
bot.launch();
console.log('âœ… Ð‘Ð¾Ñ‚ Ð·Ð°Ð¿ÑƒÑ‰ÐµÐ½ Ð¸ Ð³Ð¾Ñ‚Ð¾Ð² Ðº Ñ€Ð°Ð±Ð¾Ñ‚Ðµ.');

// ===== ÐšÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ð°Ñ Ð¾ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° =====
process.once('SIGINT', () => bot.stop('SIGINT'));
process.once('SIGTERM', () => bot.stop('SIGTERM'));
